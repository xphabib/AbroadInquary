<div class="row">
  <div class="col-12">
    <div class="c-table-responsive@wide">
      <table class="c-table">
        <thead class="c-table__head">
        <tr class="c-table__row">
          <th class="c-table__cell c-table__cell--head">Status</th>
          <th class="c-table__cell c-table__cell--head">Mentor Name</th>
          <th class="c-table__cell c-table__cell--head">Start Time</th>
          <th class="c-table__cell c-table__cell--head">End Time</th>
          <th class="c-table__cell c-table__cell--head">Paid / Free</th>
          <th class="c-table__cell c-table__cell--head">Cost</th>
          <th class="c-table__cell c-table__cell--head">Date</th>
          <th class="c-table__cell c-table__cell--head">Action</th>
        </tr>
        </thead>

        <tbody>
        <% @schedules.each do |schedule| %>
          <tr class="c-table__row">

            <td class="c-table__cell">
              <%if schedule.student.present?%>
                <div style="color: #ff9832">Booked by </div>
                <div>
                  <%= link_to schedule.mentor.full_name, user_path(schedule.student.id) %>
                </div>
              <% else %>
                <div style="color: #37ff20">Not Booked</div>
            <% end %>
            </td>

            <td class="c-table__cell">
              <%if schedule.mentor.present?%>
                <%= link_to schedule.mentor.full_name, user_path(schedule.mentor.id) %>
              <% end %>
            </td>

            <td class="c-table__cell">
              <%= schedule.start_time.strftime("%H:%M") %>
            </td>
            <td class="c-table__cell">
              <%= schedule.end_time.strftime("%H:%M") %>
            </td>
            <th class="c-table__cell">
              <%= schedule.is_paid ? 'Paid':'Free' %>
            </th>
            <td class="c-table__cell">
              <%= schedule.is_paid ? "#{schedule.schedule_cost}$":'0$' %>
            </td>
            <td class="c-table__cell">
              <%= schedule.start_time.strftime("%d/%m/%y") %>
            </td>

            <td class="c-table__cell">

              <% if can? :read, Schedule %>
                <%= link_to 'Show', schedule_path(schedule), class: "c-badge c-badge--small c-badge--info"%>
              <% end %>

              <% if can? :update, Schedule and !current_user.student? %>
                <%= link_to 'Edit', edit_schedule_path(schedule), class: "c-badge c-badge--small c-badge--info"%>
              <% end %>

              <% if can? :destroy, Schedule %>
                <%= link_to 'Delete', schedule, method: :delete, data: {confirm: 'Are You Sure?'}, class: "c-badge c-badge--small c-badge--info"%>
              <% end %>
              <%= link_to 'Cancel', cancel_schedule_schedules_path(id: schedule), data: {confirm: 'Are You Sure?'}, class: "c-badge c-badge--small c-badge--info" if schedule.student.present?%>
            </td>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>